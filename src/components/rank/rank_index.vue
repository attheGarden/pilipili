<template>
    <div class="rank_index_all">
      <header_part></header_part>
      <div class="wrapper_part">
        <div class="wrapper_box">
          <div class="wrapper">
            <div class="wrapper_left">
              <a style="display: block;height: 48px;width: 24px;float: left;margin-right: 14px">
                <i class="iconfont" style="font-size: 22px;display: block;height: 24px;line-height: 24px;
                text-align: center;color: rgba(255,175,201,0.8)">&#xe6ca;</i>
                <a style="display: block;font-size: 12px;height: 14px;line-height:14px;text-align: center;">首页</a>
              </a>
              <a class="wrapper_left_item">
                <i style="font-size: 8px;font-style: normal;display: block;height: 12px;line-height: 12px;
                text-align: center;color: #fff;background-color: rgba(255,175,201,0.8);padding: 1px 3px;border-radius: 5px;
                max-width: 28px;margin: 0 auto">999+</i>
                <a style="display: block;font-size: 12px;height: 14px;line-height:14px;text-align: center;
                padding-top: 2px">动画</a>
              </a>
              <a class="wrapper_left_item">
                <i style="font-size: 8px;font-style: normal;display: block;height: 12px;line-height: 12px;
                text-align: center;color: #fff;background-color: rgba(255,175,201,0.8);padding: 1px 3px;border-radius: 5px;
                max-width: 28px;margin: 0 auto">76</i>
                <a style="display: block;font-size: 12px;height: 14px;line-height:14px;text-align: center;
                padding-top: 2px">番剧</a>
              </a>
              <a class="wrapper_left_item">
                <i style="font-size: 8px;font-style: normal;display: block;height: 12px;line-height: 12px;
                text-align: center;color: #fff;background-color: rgba(255,175,201,0.8);padding: 1px 3px;border-radius: 5px;
                max-width: 28px;margin: 0 auto">160</i>
                <a style="display: block;font-size: 12px;height: 14px;line-height:14px;text-align: center;
                padding-top: 2px">国创</a>
              </a>
              <a class="wrapper_left_item">
                <i style="font-size: 8px;font-style: normal;display: block;height: 12px;line-height: 12px;
                text-align: center;color: #fff;background-color: rgba(255,175,201,0.8);padding: 1px 3px;border-radius: 5px;
                max-width: 28px;margin: 0 auto">999+</i>
                <a style="display: block;font-size: 12px;height: 14px;line-height:14px;text-align: center;
                padding-top: 2px">音乐</a>
              </a>
              <a class="wrapper_left_item">
                <i style="font-size: 8px;font-style: normal;display: block;height: 12px;line-height: 12px;
                text-align: center;color: #fff;background-color: rgba(255,175,201,0.8);padding: 1px 3px;border-radius: 5px;
                max-width: 28px;margin: 0 auto">999+</i>
                <a style="display: block;font-size: 12px;height: 14px;line-height:14px;text-align: center;
                padding-top: 2px">舞蹈</a>
              </a>
              <a class="wrapper_left_item">
                <i style="font-size: 8px;font-style: normal;display: block;height: 12px;line-height: 12px;
                text-align: center;color: #fff;background-color: rgba(255,175,201,0.8);padding: 1px 3px;border-radius: 5px;
                max-width: 28px;margin: 0 auto">460</i>
                <a style="display: block;font-size: 12px;height: 14px;line-height:14px;text-align: center;
                padding-top: 2px">游戏</a>
              </a>
              <a class="wrapper_left_item">
                <i style="font-size: 8px;font-style: normal;display: block;height: 12px;line-height: 12px;
                text-align: center;color: #fff;background-color: rgba(255,175,201,0.8);padding: 1px 3px;border-radius: 5px;
                max-width: 28px;margin: 0 auto">999+</i>
                <a style="display: block;font-size: 12px;height: 14px;line-height:14px;text-align: center;
                padding-top: 2px">科技</a>
              </a>
              <a class="wrapper_left_item">
                <i style="font-size: 8px;font-style: normal;display: block;height: 12px;line-height: 12px;
                text-align: center;color: #fff;background-color: rgba(255,175,201,0.8);padding: 1px 3px;border-radius: 5px;
                max-width: 28px;margin: 0 auto">702</i>
                <a style="display: block;font-size: 12px;height: 14px;line-height:14px;text-align: center;
                padding-top: 2px">数码</a>
              </a>
              <a class="wrapper_left_item">
                <i style="font-size: 8px;font-style: normal;display: block;height: 12px;line-height: 12px;
                text-align: center;color: #fff;background-color: rgba(255,175,201,0.8);padding: 1px 3px;border-radius: 5px;
                max-width: 28px;margin: 0 auto">999+</i>
                <a style="display: block;font-size: 12px;height: 14px;line-height:14px;text-align: center;
                padding-top: 2px">生活</a>
              </a>
              <a class="wrapper_left_item">
                <i style="font-size: 8px;font-style: normal;display: block;height: 12px;line-height: 12px;
                text-align: center;color: #fff;background-color: rgba(255,175,201,0.8);padding: 1px 3px;border-radius: 5px;
                max-width: 28px;margin: 0 auto">119</i>
                <a style="display: block;font-size: 12px;height: 14px;line-height:14px;text-align: center;
                padding-top: 2px">鬼畜</a>
              </a>
              <a class="wrapper_left_item">
                <i style="font-size: 8px;font-style: normal;display: block;height: 12px;line-height: 12px;
                text-align: center;color: #fff;background-color: rgba(255,175,201,0.8);padding: 1px 3px;border-radius: 5px;
                max-width: 28px;margin: 0 auto">876</i>
                <a style="display: block;font-size: 12px;height: 14px;line-height:14px;text-align: center;
                padding-top: 2px">时尚</a>
              </a>
              <a class="wrapper_left_item">
                <i style="font-size: 8px;font-style: normal;display: block;height: 12px;line-height: 12px;
                text-align: center;color: #fff;background-color: rgba(255,175,201,0.8);padding: 1px 3px;border-radius: 5px;
                max-width: 28px;margin: 0 auto">207</i>
                <a style="display: block;font-size: 12px;height: 14px;line-height:14px;text-align: center;
                padding-top: 2px">广告</a>
              </a>
              <a class="wrapper_left_item">
                <i style="font-size: 8px;font-style: normal;display: block;height: 12px;line-height: 12px;
                text-align: center;color: #fff;background-color: rgba(255,175,201,0.8);padding: 1px 3px;border-radius: 5px;
                max-width: 28px;margin: 0 auto">999+</i>
                <a style="display: block;font-size: 12px;height: 14px;line-height:14px;text-align: center;
                padding-top: 2px">娱乐</a>
              </a>
              <a class="wrapper_left_item">
                <i style="font-size: 8px;font-style: normal;display: block;height: 12px;line-height: 12px;
                text-align: center;color: #fff;background-color: rgba(255,175,201,0.8);padding: 1px 3px;border-radius: 5px;
                max-width: 28px;margin: 0 auto">999+</i>
                <a style="display: block;font-size: 12px;height: 14px;line-height:14px;text-align: center;
                padding-top: 2px">影视</a>
              </a>
              <a class="wrapper_left_item">
                <i style="font-size: 8px;font-style: normal;display: block;height: 12px;line-height: 12px;
                text-align: center;color: #fff;background-color: rgba(255,175,201,0.8);padding: 1px 3px;border-radius: 5px;
                max-width: 28px;margin: 0 auto">351</i>
                <a style="display: block;font-size: 12px;height: 14px;line-height:14px;text-align: center;
                padding-top: 2px">放映厅</a>
              </a>
              <a class="wrapper_left_item2">
                <a class="wrapper_left_item2_icon">
                  <i class="iconfont" style="font-size: 24px;color: #02cbe0;width: 18px;height: 18px;">&#xe671;</i>
                </a>
                <a class="wrapper_left_item2_title">专栏</a>
              </a>
              <a class="wrapper_left_item2">
                <a class="wrapper_left_item2_icon">
                  <i class="iconfont" style="font-size: 24px;color: #e98eff;width: 18px;height: 18px;">&#xe72e;</i>
                </a>
                <a class="wrapper_left_item2_title">广场</a>
              </a>
              <a class="wrapper_left_item2">
                <a class="wrapper_left_item2_icon">
                  <i class="iconfont" style="font-size: 24px;color: #fe9299;width: 18px;height: 18px;">&#xe680;</i>
                </a>
                <a class="wrapper_left_item2_title">直播</a>
              </a>
              <a class="wrapper_left_item2">
                <a class="wrapper_left_item2_icon">
                  <i class="iconfont" style="font-size: 24px;color: #fca100;width: 18px;height: 18px;">&#xe611;</i>
                </a>
                <a class="wrapper_left_item2_title">小黑屋</a>
              </a>
            </div>
            <div class="wrapper_right">
              <img src="https://i0.hdslb.com/bfs/archive/65f5fde641d9d3261aa0ef3abf04a768ef3d527b.gif"/>
            </div>
          </div>
        </div>
      </div>  <!-- 导航栏 -->
      <div class="rank_body_box">
        <div class="rank_body">
          <div class="rank_menu">
            <div class="rank_menu_box">
              <div :class="{menu_item: !(flags.menu_flags.all), menu_item_on: flags.menu_flags.all}" @click="change_menu_item(0)">
                <i class="iconfont" style="font-size: 30px;color: rgb(0, 161, 214)">&#xe610;</i>
                <span style="margin-right: 19px;line-height: 40px;height: 100%;display: block;float: right">
                  全站榜
                </span>
              </div>
              <div :class="{menu_item: !(flags.menu_flags.origin),menu_item_on: flags.menu_flags.origin}" @click="change_menu_item(1)" style="margin-left: 52px">
                <i class="iconfont" style="font-size: 30px;color: #f0a03a">&#xe601;</i>
                <span style="margin-right: 19px;line-height: 40px;height: 100%;display: block;float: right">
                  原创榜
                </span>
              </div>
              <div :class="{menu_item: !(flags.menu_flags.bangumi),menu_item_on: flags.menu_flags.bangumi}" @click="change_menu_item(2)" style="margin-left: 52px">
                <i class="iconfont" style="font-size: 30px;color: #00d19b">&#xe76b;</i>
                <span style="margin-right: 19px;line-height: 40px;height: 100%;display: block;float: right">
                  新番榜
                </span>
              </div>
              <div :class="{menu_item: !(flags.menu_flags.cinema),menu_item_on: flags.menu_flags.cinema}" @click="change_menu_item(3)" style="margin-left: 52px">
                <i class="iconfont" style="font-size: 30px;color: #ffb770">&#xe624;</i>
                <span style="margin-right: 19px;line-height: 40px;height: 100%;display: block;float: right">
                  影视榜
                </span>
              </div>
              <div :class="{menu_item: !(flags.menu_flags.rookie),menu_item_on: flags.menu_flags.rookie}" @click="change_menu_item(4)" style="margin-left: 52px">
                <i class="iconfont" style="font-size: 30px;color: #fe7fac">&#xe64d;</i>
                <span style="margin-right: 19px;line-height: 40px;height: 100%;display: block;float: right">
                  新人榜
                </span>
              </div>
            </div>
          </div>
          <div class="rank_wrap1">
            <a class="rank_wrap1_item" style="color: rgb(0,161,214)">
              全站
            </a>
            <a class="rank_wrap1_item" style="color: rgb(34,34,34)" v-for="(item, index) in menu_wrap1_items" :key="index">{{item}}</a>
          </div>
          <div class="rank_wrap2">
            <div class="rank_wrap2_body">
              <i class="iconfont" style="font-size: 15px;margin:0 10px">&#xe724;</i>
              <i style="font-size: 12px;font-style: normal">
                统计所有投稿在 2019年05月25日 - 2019年05月28日 的数据综合得分，每日更新一次
              </i>
            </div>
          </div>
          <div v-if="flags.rank_flag">
            <div v-for="(item, index) in temp_all_rank" :key="index">
            <rank1_part :rank1_data="item" :index="index+1"></rank1_part>
          </div>
          </div>
          <div v-if="!(flags.rank_flag)">
            <div v-for="(item, index) in temp_bangumi_rank" :key="index">
              <rank2_part :rank2_data="item" :index="index+1"></rank2_part>
            </div>
          </div>
        </div>
      </div>
      <div style="width: 100%;height: 126px">
        <div style="width: 1160px;height: 126px;margin: 0 auto;">
          <div style="width: 1160px;height: 96px; padding-top: 30px;float: left">
            <img src="https://i0.hdslb.com/bfs/sycp/creative_img/201905/c0ffb187a7f52bcb7cbaef840ba26924.jpg" width="1160px"/>
          </div>
        </div>
      </div>
      <div style="width: 100%;height: 392px;float: left">
        <footer_part></footer_part>
      </div>
    </div>
</template>

<script>
import headerpart from '../component/header'
import rank1box from '../rank/rank1_box'
import rank2box from '../rank/rank2_box'
import footer_ from '../component/footer'
import axios from 'axios'
export default {
  name: 'rank_index',
  components: {
    header_part: headerpart,
    rank1_part: rank1box,
    rank2_part: rank2box,
    footer_part: footer_
  },
  data () {
    return {
      flags: {
        rank_flag: true,
        menu_flags: {
          all: true,
          origin: false,
          bangumi: false,
          cinema: false,
          rookie: false
        }
      },
      menu_wrap1_items: ['动画', '音乐', '舞蹈', '游戏', '数码', '鬼畜'],
      temp_all_rank: [],
      temp_bangumi_rank: []
    }
  },
  created () {
    // 全站榜
    axios({
      method: 'get',
      url: '/api/video/get_rank',
      params: {
        tag_id: 1,
        number: 20
      }
    }).then(res => {
      // console.log(res.data.data)
      this.temp_all_rank = res.data.data.videos
    }).catch(error => {
      console.log(error)
    })

    // 新番榜
    axios({
      method: 'get',
      url: '/api/bangumi/get_rank',
      params: {
        tag_id: -1,
        number: 10
      }
    }).then(res => {
      // console.log(res.data.data)
      this.temp_bangumi_rank = res.data.data.bangumis
    }).catch(error => {
      console.log(error)
    })
  },
  methods: {
    change_menu_item (num) {
      if (num === 0) {
        this.flags.menu_flags.all = true
        this.flags.menu_flags.origin = false
        this.flags.menu_flags.bangumi = false
        this.flags.menu_flags.cinema = false
        this.flags.menu_flags.rookie = false
        this.flags.rank_flag = true
      }
      if (num === 1) {
        this.flags.menu_flags.all = false
        this.flags.menu_flags.origin = true
        this.flags.menu_flags.bangumi = false
        this.flags.menu_flags.cinema = false
        this.flags.menu_flags.rookie = false
      }
      if (num === 2) {
        this.flags.menu_flags.all = false
        this.flags.menu_flags.origin = false
        this.flags.menu_flags.bangumi = true
        this.flags.menu_flags.cinema = false
        this.flags.menu_flags.rookie = false
        this.flags.rank_flag = false
      }
      if (num === 3) {
        this.flags.menu_flags.all = false
        this.flags.menu_flags.origin = false
        this.flags.menu_flags.bangumi = false
        this.flags.menu_flags.cinema = true
        this.flags.menu_flags.rookie = false
      }
      if (num === 4) {
        this.flags.menu_flags.all = false
        this.flags.menu_flags.origin = false
        this.flags.menu_flags.bangumi = false
        this.flags.menu_flags.cinema = false
        this.flags.menu_flags.rookie = true
      }
    }
  }
}
</script>

<style lang="stylus" rel="stylesheet/stylus">
  .rank_index_all
    width 100%
    .wrapper_part
      width:100%
      height:59px
      .wrapper_box
        width 1160px
        height 59px
        margin 0 auto
        .wrapper
          width 1160px
          height 50px
          padding-top 3px
          margin-bottom 5px
          .wrapper_left
            width 1078px
            height 42px
            padding-top 5px
            float left
            line-height 42px
            .wrapper_left_item
              display block
              float left
              min-width 48px
              height 40px
              padding-top 8px
              margin-right 8px
              text-align center
            .wrapper_left_item2
              display block
              float left
              width 40px
              margin 0 3px
              .wrapper_left_item2_icon
                width 20px
                height 20px
                line-height 18px
                display block
                padding 0 9px
                text-align center
              .wrapper_left_item2_title
                display block
                width 40px
                height 16px
                padding-top 2px
                line-height 16px
                font-size 12px
                text-align center
          .wrapper_right
            width 69px
            height 50px
            padding 4px 0
            margin-left 1px
            float left
    .rank_body_box
      width 100%
      .rank_body
        width 1160px
        margin 0 auto
        .rank_menu
          width 1160px
          height 40px
          text-align center
          .rank_menu_box
            width 905px
            height 40px
            margin 0 auto
            .menu_item
              width 115px
              height 40px
              line-height 40px
              float left
              padding 0 12px
              font-size 16px
              color black
              cursor pointer
            .menu_item_on
              width 115px
              height 38px
              line-height 40px
              float left
              padding 0 12px
              font-size 16px
              color rgb(0, 161, 214)
              border-bottom 2px solid rgb(0, 161, 214)
              cursor pointer
        .rank_wrap1
          width 1160px
          height 40px
          float left
          background-color rgb(237, 242, 249)
          border-radius 4px
          .rank_wrap1_item
            display block
            width 28px
            height 40px
            line-height 40px
            font-size 14px
            float left
            line-height 40px
            \padding 0 10px
            margin-right 10px
        .rank_wrap2
          width 1160px
          height 31px
          padding 15px 0
          float left
          .rank_wrap2_body
            width 1160px
            height 17px
            padding 7px 0
            background-color rgb(237,242,249)
</style>
